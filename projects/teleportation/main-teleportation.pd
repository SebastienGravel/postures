#N canvas 537 65 903 790 10;
#X text 385 11 This example shows how to load a "point cloud" \, which
can be rendered with several different draw modes. The default is POINTS
\, which are the lightest. Be careful of using LIGHTPOINTS \, BOXES
\, and especially CUSTOM drawing. These modes are expensive.;
#N canvas 65 37 748 834 models 0;
#X obj 88 810 s \$0-to-SPIN-TCP;
#X obj 92 112 list append;
#X obj 155 87 anyreg gProjectPath;
#X obj 92 62 t b b;
#X obj 92 40 r load_main-scene;
#X text 542 406 <--set collision ON;
#X text 562 336 <--set collision ON;
#X text 492 616 <--set collision ON;
#X text 502 456 <--set collision ON;
#X text 472 686 <--set collision ON;
#X text 452 756 <--set collision OFF;
#X msg 196 395 createNode bigwall ModelNode \, /bigwall setModelFromFile
\$1/main/bigwall.ac \, /bigwall setOrientation 90 0 0 \, /bigwall setParent
step1 \, /step1 setEnabled bigwall 1;
#X obj 92 138 t a a a a a a a a a;
#X text 522 526 <--set collision ON;
#X msg 258 175 createNode step_collider ConstraintsNode \, createNode
step1 SwitchNode \, createNode step2 SwitchNode \, createNode step3
SwitchNode \, createNode step4 SwitchNode \, createNode step4-no_collision
SwitchNode \, /step1 setParent step_collider \, /step2 setParent step_collider
\, /step3 setParent step_collider \, /step4 setParent step_collider
;
#X msg 92 745 createNode doors ModelNode \, /doors setModelFromFile
\$1/main/doors.ac \, /doors setOrientation 90 0 0 \, /doors setParent
step4-no_collision \, /step4-no_collision setEnabled doors 0;
#X msg 216 325 createNode letters ModelNode \, /letters setModelFromFile
\$1/main/letters.ac \, /letters setOrientation 90 0 0 \, /letters setParent
step1 \, /step1 setEnabled letters 1 \, /letters setCastShadows 1;
#X msg 176 445 createNode cube ModelNode \, /cube setModelFromFile
\$1/main/cube.ac \, /cube setOrientation 90 0 0 \, /cube setParent
step2 \, /step2 setEnabled cube 0 \, /cube setCastShadows 1;
#X msg 156 515 createNode sculpture ModelNode \, /sculpture setModelFromFile
\$1/main/sculpture.ac \, /sculpture setTranslation 0 0 0.05 \, /sculpture
setOrientation 90 0 0 \, /sculpture setScale 1.5 1.5 1.5 \, /sculpture
setParent step3 \, /step3 setEnabled sculpture 0 \, /sculpture setCastShadows
1;
#X msg 136 595 createNode instructions ModelNode \, /instructions setModelFromFile
\$1/main/instructions.ac \, /instructions setOrientation 90 0 0 \,
/instructions setParent step4 \, /step4 setEnabled instructions 0 \,
/instructions setCastShadows 1;
#X msg 116 675 createNode house ModelNode \, /house setModelFromFile
\$1/main/house.ac \, /house setOrientation 90 0 0 \, /house setParent
step4 \, /step4 setEnabled house 0 \, /house setCastShadows 1;
#X obj 213 47 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 238 265 createNode forest ModelNode \, /forest setModelFromFile
\$1/main/forest.ac \, /forest setOrientation 90 0 0 \, /forest setScale
2 2 2;
#X msg 409 85 /forest setScale \$1 \$1 \$1;
#X floatatom 415 41 5 0 0 0 - - -;
#X msg 425 126 /posture101 setCubeSize 400 400 50;
#X connect 1 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 4 0 3 0;
#X connect 11 0 0 0;
#X connect 12 0 15 0;
#X connect 12 1 20 0;
#X connect 12 2 19 0;
#X connect 12 3 18 0;
#X connect 12 4 17 0;
#X connect 12 5 11 0;
#X connect 12 6 16 0;
#X connect 12 7 22 0;
#X connect 12 8 14 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 3 0;
#X connect 22 0 0 0;
#X connect 23 0 0 0;
#X connect 24 0 23 0;
#X connect 25 0 0 0;
#X restore 614 295 pd models;
#N canvas 0 22 430 519 assets 1;
#X text 21 25 Project Path must be applied here only once;
#X symbolatom 22 355 10 0 0 0 - - -;
#X obj 22 167 shell;
#X msg 22 147 hostname -s;
#X obj 22 187 symbol;
#X obj 22 117 loadbang;
#X obj 103 137 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 169 227 p;
#X obj 22 210 makefilename %s-anim;
#X symbolatom 22 405 10 0 0 0 - - -;
#X obj 22 334 anyreg user1 posture101;
#X obj 22 384 anyreg user2 posture102;
#X text 172 333 <--User1 name;
#X text 172 383 <--User2 name;
#X obj 22 49 anyreg gProjectPath ~/Documents/Metalab/teleportation-assets
;
#X symbolatom 22 230 20 0 0 0 - - -;
#X text 19 306 --------USERS--------;
#X symbolatom 22 455 10 0 0 0 - - -;
#X text 172 433 <--User3 name;
#X obj 22 434 anyreg user3 posture103;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 6 0 3 0;
#X connect 8 0 7 0;
#X connect 8 0 15 0;
#X connect 10 0 1 0;
#X connect 11 0 9 0;
#X connect 19 0 17 0;
#X restore 614 205 pd assets;
#N canvas 130 83 1310 817 debug 0;
#X obj 25 551 s \$0-to-SPIN-TCP;
#X msg 95 146 /experience debug;
#X msg 38 74 /chantalbaron setCubeSize 10000 10000 10000;
#X msg 14 48 createNode grid GridNode;
#X obj 68 744 s \$0-to-SPIN-TCP;
#X floatatom 35 673 5 0 0 0 - - -;
#X obj 257 653 p;
#X floatatom 78 673 5 0 0 0 - - -;
#X floatatom 120 673 5 0 0 0 - - -;
#X obj 68 702 hotpack3;
#X obj 984 281 r \$0-toCamera;
#X obj 984 305 OSCprepend /nodeID;
#X obj 984 331 s \$0-to-SPIN;
#X obj 973 132 nbx 4 16 -1e+37 1e+37 0 0 empty empty left 0 -8 0 11
-262144 -1 -1 0 256;
#X obj 1024 132 nbx 4 16 -1e+37 1e+37 0 0 empty empty right 0 -8 0
11 -262144 -1 -1 0 256;
#X obj 1075 132 nbx 4 16 -1e+37 1e+37 0 0 empty empty bottom 0 -8 0
11 -262144 -1 -1 0 256;
#X obj 1126 132 nbx 4 16 -1e+37 1e+37 0 0 empty empty top 0 -8 0 11
-262144 -1 -1 0 256;
#X obj 1177 132 nbx 4 16 0 1e+37 0 0 empty empty near 0 -8 0 11 -262144
-1 -1 0 256;
#X obj 1228 132 nbx 4 16 0 1e+37 0 0 empty empty far 0 -8 0 11 -262144
-1 -1 0 256;
#X obj 1008 157 hotpack7 -0.01 0.01 -0.01 0.01 0.01 1000;
#X msg 1008 176 setFrustum \$1 \$2 \$3 \$4 \$5 \$6;
#X obj 1008 197 s \$0-toCamera;
#X obj 1089 275 anyreg g_hostname;
#X obj 1089 253 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 983 226 setFrustum -0.3333 0.3333 -0.2222 0.2222 0.001 1000
;
#X obj 975 59 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 1106 76 * -1;
#X obj 1128 48 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 1259 65 * -1;
#X msg 167 236 /7-pipette-group-2 debug;
#X msg 68 723 /7-pipette-pcd setTranslation \$1 \$2 \$3;
#X msg 254 454 /corridor debug;
#X msg 222 372 /CERC112-img debug;
#X obj 482 509 widget-nodeEditor \$0;
#X msg 645 325 cell-CytoSkeleton_Elements;
#X msg 664 372 sang-globule;
#X msg 656 348 cell-CytoSkeleton_Elements-2;
#X msg 595 174 corridor-pcd;
#X msg 613 199 7-pipette-pcd;
#X msg 627 249 cell-lisosome;
#X msg 633 274 patient-cube;
#X msg 679 416 mainLight;
#X msg 683 439 mainLight2;
#X msg 265 482 /mainLight debug;
#X msg 269 505 /mainLight2 debug;
#X obj 257 631 r \$0-from-SPIN;
#X msg 638 300 cell-globuleBlanc;
#X msg 673 394 sang-cell;
#X msg 277 550 /sang-globule setParent step4;
#X text 925 582 sang = 3;
#X text 925 613 cell = 7;
#X text 925 552 corridor+others = 16;
#X text 855 522 EXPONENT (reacts only on models with shader);
#X msg 871 660 /mainLight setExponent \$1 \, /mainLight2 setExponent
\$1;
#X msg 900 554 16;
#X obj 871 684 s \$0-to-SPIN-TCP;
#X msg 858 416 deleteNode mainLight3 \, createNode mainLight3 LightSource
\, /mainLight3 setParent step4 \, /mainLight3 setTranslation 1000 4000
0 \, /mainLight3 setOrientation 0 0 0 \, /mainLight3 setCutoff 180
\, /mainLight3 setExponent 16 \, /mainLight3 setAttenuation 0.1 \,
/mainLight3 setAmbient 1 1 1 1 \, /mainLight3 setDiffuse 1 1 1 1 \,
/mainLight3 setSpecular 0 0 0 1;
#X msg 899 585 3.5;
#X msg 688 461 mainLight3;
#X msg 279 527 /mainLight3 debug;
#X msg 582 124 chantalbaron-anim;
#X msg 59 97 /chantalbaron debug;
#X msg 75 122 /chantalbaron-anim debug;
#X msg 572 101 chantalbaron;
#X msg 618 224 cell-Mitochondria;
#X msg 899 614 10;
#X msg 588 149 sh0;
#X msg 618 149 sh1;
#X msg 650 149 sh2;
#X msg 680 149 sh3;
#X msg 542 52 hotspot_down4;
#X msg 564 75 hotspot_down5;
#X msg 184 256 /hotspot_down5 debug;
#X msg 249 423 /patient-targets debug;
#X obj 42 586 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 532 25 hotspot_up4;
#X msg 232 396 /bigwall debug;
#X msg 215 347 /step2 debug;
#X msg 42 606 /step1 setEnabled bigwall \$1;
#X msg 145 193 /step3 debug;
#X msg 205 324 /sculpture debug;
#X msg 698 481 mainLight4;
#X msg 124 169 /mainLight4 debug;
#X msg 195 278 /posture101 debug;
#X msg 198 302 /posture102 debug;
#X msg 154 213 /step_collider debug;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 5 0 9 0;
#X connect 7 0 9 1;
#X connect 8 0 9 2;
#X connect 9 0 30 0;
#X connect 11 0 12 0;
#X connect 13 0 19 0;
#X connect 14 0 19 1;
#X connect 15 0 19 2;
#X connect 16 0 19 3;
#X connect 17 0 19 4;
#X connect 18 0 19 5;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 22 0 11 1;
#X connect 23 0 22 0;
#X connect 25 0 26 0;
#X connect 25 0 14 0;
#X connect 26 0 13 0;
#X connect 27 0 28 0;
#X connect 27 0 16 0;
#X connect 28 0 15 0;
#X connect 29 0 0 0;
#X connect 30 0 4 0;
#X connect 31 0 0 0;
#X connect 32 0 0 0;
#X connect 34 0 33 0;
#X connect 35 0 33 0;
#X connect 36 0 33 0;
#X connect 37 0 33 0;
#X connect 38 0 33 0;
#X connect 39 0 33 0;
#X connect 40 0 33 0;
#X connect 41 0 33 0;
#X connect 42 0 33 0;
#X connect 43 0 0 0;
#X connect 44 0 0 0;
#X connect 46 0 33 0;
#X connect 47 0 33 0;
#X connect 48 0 0 0;
#X connect 53 0 55 0;
#X connect 54 0 53 0;
#X connect 56 0 55 0;
#X connect 57 0 53 0;
#X connect 58 0 33 0;
#X connect 59 0 0 0;
#X connect 60 0 33 0;
#X connect 61 0 0 0;
#X connect 62 0 0 0;
#X connect 63 0 33 0;
#X connect 64 0 33 0;
#X connect 65 0 53 0;
#X connect 66 0 33 0;
#X connect 67 0 33 0;
#X connect 68 0 33 0;
#X connect 69 0 33 0;
#X connect 70 0 33 0;
#X connect 71 0 33 0;
#X connect 72 0 0 0;
#X connect 73 0 0 0;
#X connect 74 0 78 0;
#X connect 75 0 33 0;
#X connect 76 0 0 0;
#X connect 77 0 0 0;
#X connect 78 0 4 0;
#X connect 79 0 0 0;
#X connect 80 0 0 0;
#X connect 81 0 33 0;
#X connect 82 0 0 0;
#X connect 83 0 0 0;
#X connect 84 0 0 0;
#X connect 85 0 0 0;
#X restore 614 185 pd debug;
#N canvas 0 22 916 795 pointcloud 0;
#X obj 18 71 cnv 15 24 24 empty empty 1 4 12 1 24 -99865 -262144 0
;
#X obj 72 232 cnv 15 24 24 empty empty 3 4 12 1 24 -99865 -262144 0
;
#X obj 55 533 s \$0-to-SPIN;
#X obj 18 192 cnv 15 24 24 empty empty 2 4 12 1 24 -99865 -262144 0
;
#X obj 52 74 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 73 71 set view for this example;
#X obj 82 119 spin.toCamera \$0;
#X msg 79 147 createNode grid GridNode;
#X obj 79 169 s \$0-to-SPIN;
#X obj 524 346 subwidget-PAT \$0;
#X obj 524 305 loadbang;
#X obj 394 542 vradio 11 1 0 14 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 408 637 9) QUAD_STRIP;
#X text 408 626 8) QUADS;
#X text 408 615 7) TRIANGLE_FAN;
#X text 408 604 6) TRIANGLE_STRIP;
#X text 408 593 5) TRIANGLES;
#X text 408 582 4) LINE_LOOP;
#X text 408 560 2) LINES;
#X text 408 549 1) POINTS;
#X text 408 538 0) NONE;
#X text 408 571 3) LINE_STRIP;
#X text 408 670 12) BOXES;
#X text 408 659 11) LIGHTPOINTS;
#X text 408 648 10) POLYGON;
#X obj 126 418 hsl 128 15 0 100 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 123 436 5 0 0 0 - - -;
#X text 158 391 Play with some parameters:;
#X text 53 187 Create a PointCloud node;
#X msg 57 205 createNode cloud PointCloud;
#X msg 123 452 /cloud setPointSize \$1;
#X msg 394 699 /cloud setDrawMode \$1;
#X msg 524 325 cloud;
#X obj 129 387 cnv 15 24 24 empty empty 4 4 12 1 24 -99865 -262144
0;
#X text 105 232 Load a point cloud from a .pcd file:;
#X obj 107 278 thisdir;
#X obj 107 250 bng 20 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 408 681 13) CUSTOM;
#X msg 82 95 setTranslation 0 -1 0.15;
#X obj 528 238 s \$0-to-SPIN;
#X text 518 281 You can move the entire cloud around like this:;
#X obj 45 563 cnv 15 24 24 empty empty 5 4 12 1 24 -99865 -262144 0
;
#X obj 346 519 cnv 15 24 24 empty empty 6 4 12 1 24 -99865 -262144
0;
#X text 375 522 Try different draw modes:;
#X text 533 97 Set the draw mode to CUSTOM (above) \, and then replace
the points of the PointCloud with any SPIN node!;
#X msg 528 136 createNode shp ShapeNode \, /shp setTranslation 10 0
0 \, /shp setStateSetFromFile http://spinframework.org/images/logo_SPIN.jpg
\, /shp setSpin 20 0 45 \, /cloud setCustomNode shp;
#X text 547 199 CAREFUL of the mesh size! Try to only use low-poly
models like cubes and planes.;
#X msg 634 561 /cloud setVoxelSize \$1;
#X obj 637 519 hsl 128 15 0.0005 0.1 1 0 empty empty empty -2 -8 0
10 -262144 -1 -1 0 1;
#X floatatom 634 538 5 0 0 0 - - -;
#X obj 642 673 s \$0-to-SPIN;
#X msg 654 648 /cloud setDistCrop 0 \$1;
#X obj 657 609 hsl 128 15 0 10 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 654 628 5 0 0 0 - - -;
#X msg 107 297 /cloud setURI \$1/Resources/bunny.pcd \, /cloud setOrientation
180 0 0;
#X msg 197 504 /cloud debug;
#X msg 542 482 /cloud setDrawMode 11 \, /cloud setURI kinect://1;
#X obj 503 101 cnv 15 24 24 empty empty 7 4 12 1 24 -99865 -262144
0;
#X text 523 433 Read points in real time from the Kinect \, but DON'T
use CUSTOM drawMode. The Kinect produces way too many points way too
fast.;
#X text 135 251 .pcd files can be generated using PCL: www.pointclouds.org
;
#X obj 293 419 hsl 128 15 0 0.1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 290 436 5 0 0 0 - - -;
#X msg 290 452 /cloud setRandomCoeff \$1;
#X text 120 334 NOTE: If you get the error: "Failed to find a field
named: 'rgba'" \, you need to upgrade your .pcd file. Set change rgb
to rgba in the FIELDS \, and set the TYPE to F F F U;
#X obj 81 585 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 81 604 /cloud setColorMode \$1;
#X obj 394 719 s \$0-to-SPIN;
#X obj 81 687 s \$0-to-SPIN;
#X obj 492 437 cnv 15 24 24 empty empty 8 4 12 1 24 -99865 -262144
0;
#X text 73 558 Override color:;
#X obj 94 632 rgbaPicker 1 1 1 1;
#X msg 94 666 /cloud setColor \$1 \$2 \$3 \$4;
#X text 101 584 override color;
#X connect 4 0 7 0;
#X connect 4 0 38 0;
#X connect 7 0 8 0;
#X connect 10 0 32 0;
#X connect 11 0 31 0;
#X connect 25 0 26 0;
#X connect 26 0 30 0;
#X connect 29 0 2 0;
#X connect 30 0 2 0;
#X connect 31 0 66 0;
#X connect 32 0 9 0;
#X connect 35 0 54 0;
#X connect 36 0 35 0;
#X connect 38 0 6 0;
#X connect 45 0 39 0;
#X connect 47 0 50 0;
#X connect 48 0 49 0;
#X connect 49 0 47 0;
#X connect 51 0 50 0;
#X connect 52 0 53 0;
#X connect 53 0 51 0;
#X connect 54 0 2 0;
#X connect 55 0 2 0;
#X connect 56 0 50 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 62 0 2 0;
#X connect 64 0 65 0;
#X connect 65 0 67 0;
#X connect 70 0 71 0;
#X connect 71 0 67 0;
#X restore 614 225 pd pointcloud control;
#X obj 18 28 widget-spinConnect \$0;
#X obj 107 248 bng 20 250 50 0 load_scene1 empty STEP_1 25 10 0 17
-260097 -1 -1;
#X obj 107 148 bng 20 250 50 0 load_main-scene empty load_main-scene
25 10 0 17 -260097 -1 -1;
#X obj 107 278 bng 20 250 50 0 load_scene2 empty STEP_2 25 10 0 17
-260097 -1 -1;
#X obj 107 308 bng 20 250 50 0 load_scene3 empty STEP_3 25 10 0 17
-260097 -1 -1;
#X obj 107 338 bng 20 250 50 0 load_scene4 empty STEP_4 25 10 0 17
-260097 -1 -1;
#X text 207 309 <--statue appears;
#X text 207 339 <--house and doors appear;
#X text 297 149 <--setup whole scene;
#X text 207 279 <--cube appears + letters disappear;
#N canvas 368 414 892 486 step_logic 0;
#X obj 55 25 r load_scene1;
#X obj 95 95 r load_scene2;
#X obj 145 165 r load_scene3;
#X obj 185 245 r load_scene4;
#X obj 55 419 s \$0-to-SPIN-TCP;
#X msg 55 46 /step1 setEnabled bigwall 0 \, /step1 setEnabled letters
0 \, /step2 setAll 0 \, /step3 setAll 0 \, /step4 setAll 0 \, /step4-no_collision
setAll 0;
#X msg 95 116 /step1 setAll 0 \, /step2 setAll 1 \, /step3 setAll 0
\, /step4 setAll 0 \, /step4-no_collision setAll 0;
#X msg 145 186 /step1 setAll 0 \, /step2 setAll 1 \, /step3 setAll
1 \, /step4 setAll 0 \, /step4-no_collision setAll 0;
#X obj 185 310 pack s s s;
#X obj 185 288 anyreg user1;
#X obj 307 288 anyreg user2;
#X obj 185 265 t b b;
#X msg 185 356 /step1 setAll 0 \, /step2 setAll 0 \, /step3 setAll
1 \, /step4 setAll 1 \, /step4-no_collision setAll 1 \, /\$1 setTranslation
0 -2 0 \, /\$2 setTranslation 0 2 0;
#X obj 505 22 r reset;
#X obj 505 90 pack s s s;
#X obj 505 68 anyreg user1;
#X obj 627 68 anyreg user2;
#X obj 505 45 t b b;
#X msg 505 113 /step1 setAll 1 \, /step2 setAll 0 \, /step3 setAll
0 \, /step4 setAll 0 \, /step4-no_collision setAll 0 \, /\$1 setTranslation
0 -5 0 \, /\$2 setTranslation 0 5 0;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 11 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 8 1;
#X connect 11 0 9 0;
#X connect 11 1 10 0;
#X connect 12 0 4 0;
#X connect 13 0 17 0;
#X connect 14 0 18 0;
#X connect 15 0 14 0;
#X connect 16 0 14 1;
#X connect 17 0 15 0;
#X connect 17 1 16 0;
#X connect 18 0 4 0;
#X restore 614 315 pd step_logic;
#X text 207 249 <--the bigwall disappears;
#N canvas 1202 303 580 592 user2 0;
#X text 8 12 On the sender machine (the one with the Kinect):;
#X text 57 55 ./posture-capture -v -s /tmp/pcd_to_read;
#X text 48 122 Then send it;
#X text 8 182 On the receiver machine (the one with spinviewer):;
#X text 8 252 On the receiver machine (the one with spinviewer):;
#X text 48 42 Capture kinect and right to shared memory:;
#X text 48 82 Or \, test with random noise of 10 \, 0 points (ie \,
100x100):;
#X text 57 205 ./posture-rtpreceive -v -s /tmp/pcd_to_read -r <sender
IP>;
#X text 57 96 ./posture-capture -v -s /tmp/pcd_to_write -n 100;
#X text 58 135 ./posture-rtpsend -v -s /tmp/pcd_to_write -r <receiver
IP>;
#X obj 42 538 s \$0-to-SPIN-TCP;
#X obj 42 295 inlet;
#X obj 121 313 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 42 323 anyreg user2;
#X obj 106 449 p;
#X obj 160 482 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 75 492 anyreg user2;
#X msg 75 514 /\$1-avatar setURI shm:///tmp/posture102-readsm;
#X msg 245 473 /posture102-avatar setOrientation 0 90 0;
#X msg 42 355 createNode \$1-avatar PointCloud \, /\$1-avatar setURI
shm:///tmp/posture102-readsm \, /\$1 setOrientation 0 0 0 \, /\$1-avatar
setOrientation 0 90 0 \, /\$1-avatar setTranslation 0.05 0 -1.3 \,
/\$1-avatar setParent \$1 \, /\$1-avatar setPointSize 2 \, /\$1 setTranslation
0 -1 0 \, /\$1 setComputationMode 1;
#X floatatom 428 394 5 0 0 0 - - -;
#X msg 245 442 /posture101-avatar setOrientation 0 90 \$1;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 19 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 10 0;
#X connect 19 0 10 0;
#X connect 19 0 14 0;
#X connect 20 0 21 0;
#X connect 21 0 10 0;
#X restore 614 420 pd user2;
#N canvas 517 248 580 592 user1 0;
#X text 8 12 On the sender machine (the one with the Kinect):;
#X text 57 55 ./posture-capture -v -s /tmp/pcd_to_read;
#X text 48 122 Then send it;
#X text 8 182 On the receiver machine (the one with spinviewer):;
#X text 8 252 On the receiver machine (the one with spinviewer):;
#X text 48 42 Capture kinect and right to shared memory:;
#X text 48 82 Or \, test with random noise of 10 \, 0 points (ie \,
100x100):;
#X text 57 205 ./posture-rtpreceive -v -s /tmp/pcd_to_read -r <sender
IP>;
#X text 57 96 ./posture-capture -v -s /tmp/pcd_to_write -n 100;
#X text 58 135 ./posture-rtpsend -v -s /tmp/pcd_to_write -r <receiver
IP>;
#X obj 42 528 s \$0-to-SPIN-TCP;
#X obj 42 295 inlet;
#X obj 121 313 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 106 439 p;
#X obj 42 323 anyreg user1;
#X obj 65 482 anyreg user1;
#X obj 150 472 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 65 504 /\$1-avatar setURI shm:///tmp/posture101-readsm;
#X msg 42 355 createNode \$1-avatar PointCloud \, /\$1-avatar setURI
shm:///tmp/posture101-readsm \, /\$1 setOrientation 0 0 0 \, /\$1-avatar
setOrientation 0 90 90 \, /\$1-avatar setTranslation 0.05 0 -1.3 \,
/\$1-avatar setParent \$1 \, /\$1-avatar setPointSize 2 \, /\$1 setTranslation
0 1 0 \, /\$1 setComputationMode 1;
#X msg 255 483 /posture102-avatar setOrientation 0 90 0;
#X floatatom 418 384 5 0 0 0 - - -;
#X msg 255 452 /posture101-avatar setOrientation 0 90 \$1;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 14 0 18 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 10 0;
#X connect 18 0 10 0;
#X connect 18 0 13 0;
#X connect 19 0 10 0;
#X connect 20 0 21 0;
#X connect 21 0 10 0;
#X restore 614 400 pd user1;
#X obj 671 390 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 671 410 bng 10 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 18 81 t b b b;
#N canvas 268 22 1012 618 users_setup 0;
#X obj 89 36 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 211 322 s \$0-to-SPIN-TCP;
#X msg 556 78 /\$1 setVelocityScalars 4 6 6 \, /\$1 setSpinScalars
0 0 0;
#X msg 211 302 setNotifyLevel 1;
#X obj 324 197 vradio 15 1 0 7 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 341 211 FATAL;
#X text 341 195 ALWAYS;
#X text 341 227 WARN;
#X text 341 243 NOTICE;
#X text 341 258 INFO;
#X text 341 274 DEBUG_INFO;
#X text 341 290 DEBUG_FP;
#X obj 550 422 r creat_manLight3;
#X text 665 420 <-- From model creation patch sent;
#X text 689 433 after creationg main nodes;
#X obj 558 217 s \$0-to-SPIN-TCP;
#X obj 46 106 shell;
#X msg 46 86 hostname -s;
#X obj 46 126 symbol;
#X msg 600 115 createNode \$1 UserNode \, createNode \$1-anim AnimationNode
\, /\$1 setParent \$1-anim \, /\$1 setSpaceNavigatorNode \$1-anim \,
/\$1-anim setConstraintMode 5 \, /\$1-anim setComputationMode 0;
#X msg 550 454 deleteNode mainLight3 \, createNode mainLight3 LightSource
\, /mainLight3 setParent step4 \, /mainLight3 setTranslation 1000 3000
0 \, /mainLight3 setOrientation 0 0 0 \, /mainLight3 setCutoff 180
\, /mainLight3 setExponent 2 \, /mainLight3 setAttenuation 0.1 \, /mainLight3
setAmbient 0 0 0 0 \, /mainLight3 setDiffuse 1 1 1 1 \, /mainLight3
setSpecular 0 0 0 0;
#X msg 558 164 load anim.xml \, /\$1-anim setPlay 0 \, /\$1-anim setParent
world \, /\$1 setParent \$1-anim \, /\$1 setSpaceNavigatorNode \$1-anim
\, /\$1-anim setLoopMode 1;
#X obj 217 147 anyreg gProjectPath;
#X obj 148 87 anyreg user1;
#X obj 171 107 anyreg user2;
#X obj 148 34 r setup_users;
#X msg 562 278 createNode \$2 UserNode \, /\$2 setTarget step_collider
\, /\$2 setTranslation 0 5 0 \, /\$2 setCubeOffset 0 0 1.35 \, /\$2
setCubeSize 200 200 5 \, \, /\$2 setConstraintMode 2 \, /\$2 setComputationMode
1;
#X msg 549 349 createNode \$2-avatar PointCloud \, /\$2-avatar setParent
\$2 \, /\$2-avatar setURI shm:///tmp/posture102-readsm \, /\$2-avatar
setOrientation 0 90 -330 \, /\$2-avatar setTranslation 0.05 0 -2 \,
/\$2-avatar setPointSize 3 \, /\$2-avatar setDistCrop -15 15;
#X text 291 379 --------USER 2 settings--------;
#X text 307 351 --------USER 1 settings--------;
#X text 262 440 --------LIGHTS settings--------;
#X text 620 254 --------USERS settings (backup)--------;
#N canvas 0 22 468 304 user1-settings 0;
#X obj 55 250 s \$0-to-SPIN-TCP;
#X msg 82 97 createNode \$1 UserNode \, /\$1 setTarget step_collider
\, /\$1 setTranslation 0 -5 0 \, /\$1 setCubeOffset 0 0 3.6 \, /\$1
setCubeSize 400 400 10 \, /\$1 setConstraintMode 2 \, /\$1 setComputationMode
1;
#X obj 55 66 t a a;
#X obj 55 41 inlet;
#X msg 55 168 createNode \$1-avatar PointCloud \, /\$1-avatar setParent
\$1 \, /\$1-avatar setURI shm:///tmp/\$1-readsm \, /\$1-avatar setOrientation
0 90 115 \, /\$1-avatar setTranslation 0.05 0 -0.45 \, /\$1-avatar
setPointSize 2 \, /\$1-avatar setDistCrop -15 15;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X restore 195 352 pd user1-settings;
#N canvas 0 22 468 304 user2-settings 0;
#X obj 55 250 s \$0-to-SPIN-TCP;
#X obj 55 66 t a a;
#X obj 55 41 inlet;
#X msg 82 97 createNode \$2 UserNode \, /\$2 setTarget step_collider
\, /\$2 setTranslation 0 5 0 \, /\$2 setCubeOffset 0 0 3.6 \, /\$2
setCubeSize 400 400 10 \, /\$2 setConstraintMode 2 \, /\$2 setComputationMode
1;
#X msg 55 168 createNode \$2-avatar PointCloud \, /\$2-avatar setParent
\$2 \, /\$2-avatar setURI shm:///tmp/\$2-readsm \, /\$2-avatar setOrientation
0 90 -235 \, /\$2-avatar setTranslation 0.05 0 -1.4 \, /\$2-avatar
setPointSize 2 \, /\$2-avatar setDistCrop -15 15;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 179 380 pd user2-settings;
#N canvas 0 22 535 499 lights-settings 0;
#X obj 55 41 inlet;
#X obj 55 444 s \$0-to-SPIN-TCP;
#X msg 106 100 deleteNode mainLight \, createNode mainLight LightSource
\, /mainLight setTranslation -30 0 10 \, /mainLight setOrientation
-90 0 0 \, /mainLight setCutoff 180 \, /mainLight setExponent 0.1 \,
/mainLight setAttenuation 0.01 \, /mainLight setAmbient 1 1 1 1 \,
/mainLight setDiffuse 1 1 1 1 \, /mainLight setSpecular 1 1 1 1;
#X msg 89 186 deleteNode mainLight2 \, createNode mainLight2 LightSource
\, /mainLight2 setTranslation 30 0 10 \, /mainLight2 setOrientation
-90 0 0 \, /mainLight2 setCutoff 180 \, /mainLight2 setExponent 0.1
\, /mainLight2 setAttenuation 0.01 \, /mainLight2 setAmbient 1 1 1
1 \, /mainLight2 setDiffuse 1 1 1 1 \, /mainLight2 setSpecular 1 1
1 1;
#X msg 72 272 deleteNode mainLight3 \, createNode mainLight3 LightSource
\, /mainLight3 setTranslation 0 30 10 \, /mainLight3 setOrientation
-90 0 0 \, /mainLight3 setCutoff 180 \, /mainLight3 setExponent 0.1
\, /mainLight3 setAttenuation 0.01 \, /mainLight3 setAmbient 1 1 1
1 \, /mainLight3 setDiffuse 1 1 1 1 \, /mainLight3 setSpecular 1 1
1 1;
#X msg 55 358 deleteNode mainLight4 \, createNode mainLight4 LightSource
\, /mainLight4 setTranslation 0 -30 10 \, /mainLight4 setOrientation
-90 0 0 \, /mainLight4 setCutoff 180 \, /mainLight4 setExponent 0.1
\, /mainLight4 setAttenuation 0.01 \, /mainLight4 setAmbient 1 1 1
1 \, /mainLight4 setDiffuse 1 1 1 1 \, /mainLight4 setSpecular 1 1
1 1;
#X obj 55 66 t a a a a;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 6 1 4 0;
#X connect 6 2 3 0;
#X connect 6 3 2 0;
#X restore 148 439 pd lights-settings;
#X obj 148 196 t a a a a a;
#N canvas 9 335 468 304 user3-settings 0;
#X obj 55 250 s \$0-to-SPIN-TCP;
#X obj 55 66 t a a;
#X obj 55 41 inlet;
#X msg 82 97 createNode \$3 UserNode \, /\$3 setTarget step_collider
\, /\$3 setTranslation 0 5 0 \, /\$3 setCubeOffset 0 0 3.6 \, /\$3
setCubeSize 400 400 10 \, /\$3 setConstraintMode 2 \, /\$3 setComputationMode
1;
#X msg 55 168 createNode \$3-avatar PointCloud \, /\$3-avatar setParent
\$3 \, /\$3-avatar setURI shm:///tmp/\$3-readsm \, /\$3-avatar setOrientation
0 90 -235 \, /\$3-avatar setTranslation 0.05 0 -1.4 \, /\$3-avatar
setPointSize 2 \, /\$3-avatar setDistCrop -15 15;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 163 409 pd user3-settings;
#X text 275 408 --------USER 3 settings--------;
#X obj 194 127 anyreg user3;
#X obj 148 177 pack s s s s;
#X obj 148 54 t b b b b;
#X connect 0 0 40 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 12 0 20 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 39 0;
#X connect 19 0 15 0;
#X connect 21 0 15 0;
#X connect 22 0 39 3;
#X connect 23 0 39 0;
#X connect 24 0 39 1;
#X connect 25 0 40 0;
#X connect 35 0 34 0;
#X connect 35 1 36 0;
#X connect 35 2 33 0;
#X connect 35 3 32 0;
#X connect 35 4 3 0;
#X connect 38 0 39 2;
#X connect 39 0 35 0;
#X connect 40 0 23 0;
#X connect 40 1 24 0;
#X connect 40 2 38 0;
#X connect 40 3 22 0;
#X restore 614 275 pd users_setup;
#X obj 107 118 bng 20 250 50 0 setup_users empty setup_users 25 10
0 17 -260097 -1 -1;
#X text 680 203 <--project path and users name;
#X obj 18 8 loadbang1 teleportation;
#X obj 107 218 bng 20 250 50 0 reset empty STEP_0 25 10 0 17 -260097
-1 -1;
#X text 207 219 <--resets scene;
#X text 612 361 These are for backup --> NOT USED;
#X obj 594 165 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 590 58 772 643 snow 0;
#X obj 209 593 s \$0-to-SPIN-TCP;
#X obj 242 49 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X obj 242 19 inlet;
#X obj 242 75 t b b b;
#X obj 42 238 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 348 131 clear \, createNode grid GridNode \, createNode ps_snow
ParticleSystem;
#X obj 209 569 list prepend /ps_snow;
#X obj 9 124 symbol;
#X msg 9 208 0;
#X msg 75 208 1;
#X msg 42 304 setFluidDirection \$1 0 0;
#X obj 9 82 r \$0-from-SPIN;
#X obj 9 103 route deleteNode;
#X obj 9 144 sel ps_snow;
#X text -29 57 stop metro if example is cleared;
#X obj 75 185 delay 200;
#X text 83 324 simulate changing wind speed;
#X obj 348 225 s \$0-to-SPIN-TCP;
#X text 348 259 generate snow from above with cubic range:;
#X text 350 332 small flakes fall according to acceleration from gravity
;
#X text 353 446 simulate wind and fluid properties:;
#X text 343 495 nice image that looks like snow:;
#X msg 344 463 enableFluidFriction 1 \, setFluidViscosity 0.1;
#X obj 42 260 metro 2000;
#X text 352 391 let snow accumulate on ground:;
#X msg 333 512 setStateSetFromFile smoke.rgb \, setLighting 0 \, setParticleAlphaRange
0.5 0.5;
#X obj 42 282 randomR -1 1;
#X msg 345 408 enableBouncer 1 \, removeAllBounceTargets \, addBounceTarget
ground \, setLifeTime 10;
#X msg 356 186 createNode ground ShapeNode \, /ground setShape 6 \,
/ground setOrientation 90 0 0 \, /ground setTranslation 0 0 -3;
#X msg 338 277 setPlacerType 1 \, setCubicXRange -200 200 \, setCubicYRange
-200 200 \, setCubicZRange 100 10;
#X msg 342 350 setParticleSizeRange 0.05 0.05 \, setShooterSpeedRange
0 0 \, setFrequencyRange 1000 1000 \, enableAccelerator 1;
#N canvas 125 38 959 699 particle-settings 0;
#X obj 3 73 cnv 15 24 24 empty empty 1 4 12 1 24 -99865 -262144 0;
#X obj 4 212 cnv 15 24 24 empty empty 2 4 12 1 24 -99865 -262144 0
;
#X obj 373 41 loadbang;
#X text 35 77 Create a ParticleSystem called 'ps':;
#X obj 602 244 cnv 15 320 220 empty empty SHOOTER: 5 12 1 14 -261234
-66577 0;
#X text 725 306 (meters/sec);
#X obj 633 309 2nbx;
#X obj 649 347 2nbx;
#X obj 659 384 2nbx;
#X obj 611 272 2nbx;
#X text 703 270 particles/sec;
#X obj 39 177 s \$0-to-SPIN;
#X obj 3 470 cnv 15 920 190 empty empty PLACER: 5 12 1 14 -261234 -66577
0;
#X obj 3 244 cnv 15 590 220 empty empty PARTICLE: 5 12 1 14 -261234
-66577 0;
#X obj 165 247 2nbx;
#X obj 245 398 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 212 326 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 227 362 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 239 540 2nbx;
#X obj 251 577 2nbx;
#N canvas 2073 135 932 703 OPERATORS 0;
#X obj 278 207 cnv 15 300 200 empty empty OPERATOR_FluidFriction: 5
12 1 14 -203904 -66577 0;
#X obj 350 299 nbx 5 14 0 1e+37 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0 256;
#X obj 360 339 nbx 5 14 0 1e+37 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0 256;
#X obj 346 256 3nbx;
#X obj 278 2 cnv 15 300 200 empty empty OPERATOR_Orbiter: 5 12 1 14
-203904 -66577 0;
#X obj 414 89 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 424 126 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 434 163 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 369 50 3nbx;
#X obj -27 2 cnv 15 300 125 empty empty OPERATOR_Accelerator: 5 12
1 14 -203904 -66577 0;
#X obj 37 55 3nbx;
#X obj -13 27 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 283 233 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 283 26 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj -27 132 cnv 15 300 125 empty empty OPERATOR_AngularAccelerator:
5 12 1 14 -203904 -66577 0;
#X obj 2 157 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0 1
;
#X obj -27 262 cnv 15 300 125 empty empty OPERATOR_AngularDamping:
5 12 1 14 -203904 -66577 0;
#X obj -2 292 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 38 321 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj -27 392 cnv 15 300 125 empty empty OPERATOR_Damping: 5 12 1
14 -203904 -66577 0;
#X obj -2 422 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 38 451 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 10 98 s to-particleSystem;
#X obj 26 227 s to-particleSystem;
#X obj 22 362 s to-particleSystem;
#X obj 22 492 s to-particleSystem;
#X obj 307 384 s to-particleSystem;
#X obj 298 162 s to-particleSystem;
#X msg 10 27 enableAccelerator \$1;
#X msg 37 74 setAccel \$1 \$2 \$3;
#X msg 26 157 enableAngularAccelerator \$1;
#X msg 22 292 enableAngularDamping \$1;
#X msg 38 338 setAngularDamping \$1;
#X msg 22 422 enableDamping \$1;
#X msg 38 468 setDamping \$1;
#X msg 307 26 enableOrbiter \$1;
#X msg 369 66 setOrbitCenter \$1 \$2 \$3;
#X msg 414 104 setOrbitMagnitude \$1;
#X msg 424 141 setOrbitEpsilon \$1;
#X msg 434 178 setOrbitMaxRadius \$1;
#X msg 360 356 setFluidViscosity \$1;
#X msg 350 316 setFluidDensity \$1;
#X msg 346 275 setFluidDirection \$1 \$2 \$3;
#X msg 307 233 enableFluidFriction \$1;
#X obj 583 2 cnv 15 300 250 empty empty OPERATOR_Explosion: 5 12 1
14 -203904 -66577 0;
#X obj 719 126 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 729 162 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 739 199 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 709 90 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 701 52 3nbx;
#X obj 598 26 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 602 227 s to-particleSystem;
#X msg 739 214 setExplosionSigma \$1;
#X msg 729 177 setExplosionEpsilon \$1;
#X msg 719 141 setExplosionMagnitude \$1;
#X msg 709 105 setExplosionRadius \$1;
#X msg 701 68 setExplosionCenter \$1 \$2 \$3;
#X msg 622 26 enableExplosion \$1;
#X obj 583 257 cnv 15 300 240 empty empty OPERATOR_Bouncer: 5 12 1
14 -203904 -66577 0;
#X obj 589 282 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 613 475 s to-particleSystem;
#X msg 613 282 enableBouncer \$1;
#X obj 655 364 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 665 400 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 675 436 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 655 379 setBounceFriction \$1;
#X msg 665 415 setBounceResilience \$1;
#X msg 675 451 setBounceCutoff \$1;
#X text 794 199 degrees;
#X obj 43 186 3nbx;
#X msg 42 203 setAngularAccel \$1 \$2 \$3;
#X obj 278 412 cnv 15 300 235 empty empty OPERATOR_Attractor: 5 12
1 14 -203904 -66577 0;
#X obj -27 522 cnv 15 300 125 empty empty OPERATOR_Force: 5 12 1 14
-203904 -66577 0;
#X obj -22 548 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 2 618 s to-particleSystem;
#X msg 2 548 enableForce \$1;
#X obj 18 577 3nbx;
#X msg 18 594 setForce \$1 \$2 \$3;
#X obj 583 502 cnv 15 300 180 empty empty OPERATOR_Oscillator: 5 12
1 14 -203904 -66577 0;
#X obj 597 527 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 620 660 s to-particleSystem;
#X obj 641 550 nbx 5 14 0 100 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0 256;
#X obj 651 586 nbx 5 14 -10000 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 338 463 3nbx;
#X obj 292 437 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 315 624 s to-particleSystem;
#X obj 370 503 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 315 437 enableAttractor \$1;
#X msg 338 480 setAttractorCenter \$1 \$2 \$3;
#X msg 370 518 setAttractorMagnitude \$1;
#X obj 380 541 nbx 5 14 0 1 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0 256;
#X msg 380 556 setAttractorRatio \$1;
#X obj 393 580 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 393 598 setAttractorKillSink \$1;
#X obj 666 622 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 620 527 enableOscillator \$1;
#X msg 641 565 setOscillatorAmplitude \$1;
#X msg 649 601 setOscillatorFrequency \$1;
#X msg 666 638 setOscillatorAngleLock \$1;
#N canvas 47 285 550 247 make_ground_plane 0;
#X obj 91 20 inlet;
#X obj 118 126 s \$0-to-SPIN;
#X msg 118 73 createNode groundPlane ShapeNode \, /groundPlane setShape
6 \, /groundPlane setOrientation -90 0 0 \, /groundPlane setColor 1
1 1 0.5;
#X obj 91 180 outlet;
#X obj 91 42 t b b;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X restore 635 322 pd make_ground_plane;
#X obj 635 304 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 635 342 addBounceTarget groundPlane;
#X text 781 306 (order matters);
#X text 723 280 Hint:;
#X text 723 293 Enable Accelerator first!;
#X connect 1 0 41 0;
#X connect 2 0 40 0;
#X connect 3 0 42 0;
#X connect 5 0 37 0;
#X connect 6 0 38 0;
#X connect 7 0 39 0;
#X connect 8 0 36 0;
#X connect 10 0 29 0;
#X connect 11 0 28 0;
#X connect 12 0 43 0;
#X connect 13 0 35 0;
#X connect 15 0 30 0;
#X connect 17 0 31 0;
#X connect 18 0 32 0;
#X connect 20 0 33 0;
#X connect 21 0 34 0;
#X connect 28 0 22 0;
#X connect 29 0 22 0;
#X connect 30 0 23 0;
#X connect 31 0 24 0;
#X connect 32 0 24 0;
#X connect 33 0 25 0;
#X connect 34 0 25 0;
#X connect 35 0 27 0;
#X connect 36 0 27 0;
#X connect 37 0 27 0;
#X connect 38 0 27 0;
#X connect 39 0 27 0;
#X connect 40 0 26 0;
#X connect 41 0 26 0;
#X connect 42 0 26 0;
#X connect 43 0 26 0;
#X connect 45 0 54 0;
#X connect 46 0 53 0;
#X connect 47 0 52 0;
#X connect 48 0 55 0;
#X connect 49 0 56 0;
#X connect 50 0 57 0;
#X connect 52 0 51 0;
#X connect 53 0 51 0;
#X connect 54 0 51 0;
#X connect 55 0 51 0;
#X connect 56 0 51 0;
#X connect 57 0 51 0;
#X connect 59 0 61 0;
#X connect 61 0 60 0;
#X connect 62 0 65 0;
#X connect 63 0 66 0;
#X connect 64 0 67 0;
#X connect 65 0 60 0;
#X connect 66 0 60 0;
#X connect 67 0 60 0;
#X connect 69 0 70 0;
#X connect 70 0 23 0;
#X connect 73 0 75 0;
#X connect 75 0 74 0;
#X connect 76 0 77 0;
#X connect 77 0 74 0;
#X connect 79 0 95 0;
#X connect 81 0 96 0;
#X connect 82 0 97 0;
#X connect 83 0 88 0;
#X connect 84 0 87 0;
#X connect 86 0 89 0;
#X connect 87 0 85 0;
#X connect 88 0 85 0;
#X connect 89 0 85 0;
#X connect 90 0 91 0;
#X connect 91 0 85 0;
#X connect 92 0 93 0;
#X connect 93 0 85 0;
#X connect 94 0 98 0;
#X connect 95 0 80 0;
#X connect 96 0 80 0;
#X connect 97 0 80 0;
#X connect 98 0 80 0;
#X connect 99 0 101 0;
#X connect 100 0 99 0;
#X connect 101 0 60 0;
#X restore 599 218 pd OPERATORS;
#X obj 425 389 tgl 17 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 15 275 vradio 13 1 0 6 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 32 274 POINT;
#X text 32 287 QUAD;
#X text 32 300 QUAD_TRIANDLESTRIP;
#X text 32 313 HEXAGON;
#X text 32 326 LINE;
#X text 32 339 USER;
#X obj 58 129 r to-particleSystem;
#X obj 58 150 list prepend /ps*;
#X obj 81 445 s to-particleSystem;
#X msg 245 413 setLifeTime \$1;
#X msg 227 377 setMass \$1;
#X msg 212 341 setRadius \$1;
#X msg 165 263 setParticleSizeRange \$1 \$2;
#X msg 15 357 setShape \$1;
#X msg 426 410 setLighting \$1;
#X msg 611 287 setFrequencyRange \$1 \$2;
#X msg 633 324 setShooterSpeedRange \$1 \$2;
#X msg 659 399 setShooterPhiRange \$1 \$2;
#X obj 611 443 s to-particleSystem;
#X obj 224 620 s to-particleSystem;
#X obj 42 524 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -258113 -1
-1 0;
#X obj 42 593 s to-particleSystem;
#X msg 42 573 setPlacerType \$1;
#X text 59 523 RADIAL;
#X text 59 538 CUBIC;
#X text 59 553 LINEAR;
#X msg 239 557 setRadialRange \$1 \$2;
#X msg 714 565 removeLinearPlacerVertices;
#X obj 687 615 s to-particleSystem;
#X msg 251 594 setRadialPhiRange \$1 \$2;
#X obj 489 509 2nbx;
#X msg 489 526 setCubicZRange \$1 \$2;
#X obj 499 546 2nbx;
#X msg 499 563 setCubicZRange \$1 \$2;
#X obj 509 583 2nbx;
#X msg 509 600 setCubicZRange \$1 \$2;
#X obj 450 623 s to-particleSystem;
#X msg 685 522 addLinearPlacerVertex -5 0 0;
#X msg 696 543 addLinearPlacerVertex 5 0 0;
#X text 233 518 RADIAL PLACER:;
#X text 479 487 CUBIC PLACER:;
#X text 685 492 LINEAR PLACER:;
#X text 707 246 (speed and direction of particles);
#X text 77 472 (initial position range for particles);
#X text 26 503 CHOOSE ONE;
#X msg 39 102 createNode ps ParticleSystem;
#X text 36 218 Play with PARTICLE \, SHOOTER \, and PLACER properties:
;
#X obj 437 212 cnv 15 24 24 empty empty 3 4 12 1 24 -99865 -262144
0;
#X text 469 218 Play with Operators:;
#X obj 372 87 subwidget-PAT \$0;
#X obj 369 440 s to-particleSystem;
#X obj 364 273 openpanel;
#X obj 364 254 bng 16 250 50 0 empty empty BROWSE 20 10 1 12 -262144
-1 -1;
#X msg 373 63 ps;
#X text 378 317 two other nice test images:;
#N canvas 598 259 699 464 EXAMPLE_explosion 0;
#X obj 231 335 s \$0-to-SPIN-TCP;
#X obj 305 296 list prepend /ps;
#X obj 242 80 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X msg 305 134 clear \, createNode grid GridNode \, createNode ps ParticleSystem
;
#X obj 242 108 t b b b b;
#X obj 242 30 inlet;
#X msg 305 204 setParticleSizeRange 0.1 0.1 \, setShooterSpeedRange
10 15 \, setFrequencyRange 100 1000 \, enableExplosion 1 \, setExplosionTarget
shp \, setExplosionRadius 1 \, setExplosionMagnitude 1000 \, setExplosionEpsilon
0.001 \, setExplosionSigma 180;
#X obj 53 104 r \$0-from-SPIN;
#X obj 53 124 route /shp;
#X obj 52 224 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 52 243 expr ($f1*2)-1;
#X obj 53 144 route event;
#X msg 52 204 bang;
#X msg 312 171 createNode shp ShapeNode \, /shp setShape 1;
#X msg 52 264 /shp translateTo \$1 0 1.5 1;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 4 0 12 0;
#X connect 4 1 6 0;
#X connect 4 2 13 0;
#X connect 4 3 3 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X restore 766 112 pd EXAMPLE_explosion;
#X obj 746 112 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 1662 80 831 523 EXAMPLE_fountain 0;
#X obj 125 316 s \$0-to-SPIN-TCP;
#X obj 126 70 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X obj 126 40 inlet;
#X msg 208 134 clear \, createNode grid GridNode \, createNode ps ParticleSystem
\, createNode ground ShapeNode \, createNode fountain ShapeNode;
#X obj 38 340 delay 100;
#X obj 126 94 t b b b;
#X obj 125 194 delay 100;
#X obj 208 182 s \$0-to-SPIN-TCP;
#X obj 38 471 s \$0-to-SPIN-TCP;
#X obj 38 450 list prepend /ps;
#X text 426 336 - enableAccelerator is used to simulate gravity (0
0 -9.81);
#X text 426 316 NOTES:;
#X msg 157 218 /ground setShape 6 \, /ground setOrientation -90 0 0
\, /ground setColor 1 1 1 0.5;
#X msg 156 258 /fountain setShape 7 \, /fountain setTranslation 0 0
0.4 \, /fountain setOrientation -90 0 0 \, /fountain setScale 0.2 0.2
0.2;
#X msg 38 362 enableAccelerator 1 \, setAccel 0 0 -9.81 \, setTranslation
0 0 0.5 \, setShooterThetaRange -20 20 \, setParticleSizeRange 0.01
0.05 \, setShooterSpeedRange 1 2 \, setFrequencyRange 50 2000 \, enableBouncer
1 \, setBounceFriction 0.1 \, setBounceResilience 0.1 \, addBounceTarget
fountain \, addBounceTarget ground \, setStateSetFromFile smoke.rgb
\, setLighting 0;
#X text 426 401 - You MUST enable the Accelerator first. Order matters.
Otherwise \, acceleration will be applied after the bounce operator
and may result in particles breaking through if the accerlation is
applied right at the bounce point.;
#X text 426 356 - enableBouncer is used to turn on collisions for particles.
Each of the ShapeNodes are added as a bounce target.;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 14 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 5 2 3 0;
#X connect 6 0 12 0;
#X connect 6 0 13 0;
#X connect 9 0 8 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 9 0;
#X restore 766 132 pd EXAMPLE_fountain;
#N canvas 442 26 541 506 EXAMPLE_fireflies 0;
#X obj 42 461 s \$0-to-SPIN-TCP;
#X obj 125 391 list prepend /ps;
#X obj 52 89 bng 20 250 50 0 empty empty CreateExample 24 11 1 14 -257985
-1 -1;
#X msg 115 143 clear \, createNode grid GridNode \, createNode ps ParticleSystem
;
#X obj 52 39 inlet;
#X msg 127 194 setPlacerType 1 \, setCubicXRange -10 10 \, setCubicYRange
-10 10 \, setCubicZRange -10 10;
#X obj 53 120 t b b b;
#X msg 137 263 setParticleSizeRange 0.3 0.3 \, setShooterSpeedRange
15 20 \, setFrequencyRange 100 1000 \, setShooterThetaRange 0 360 \,
setLifeTime 0.5;
#X msg 146 352 setStateSetFromFile spark03.png \, setLighting 0 \,
setParticleAlphaRange 1 1;
#X text 158 333 appearance:;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 6 1 7 0;
#X connect 6 1 5 0;
#X connect 6 1 8 0;
#X connect 6 2 3 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X restore 766 92 pd EXAMPLE_fireflies;
#X msg 404 355 setStateSetFromFile smoke.rgb;
#X msg 395 335 setStateSetFromFile spark03.png;
#X obj 746 132 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 746 72 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 746 92 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 590 58 772 643 EXAMPLE_snow 0;
#X obj 209 593 s \$0-to-SPIN-TCP;
#X obj 242 49 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X obj 242 19 inlet;
#X obj 242 75 t b b b;
#X obj 42 238 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 209 569 list prepend /ps_snow;
#X obj 9 124 symbol;
#X msg 9 208 0;
#X msg 75 208 1;
#X msg 42 304 setFluidDirection \$1 0 0;
#X obj 9 82 r \$0-from-SPIN;
#X obj 9 103 route deleteNode;
#X obj 9 144 sel ps_snow;
#X text -29 57 stop metro if example is cleared;
#X obj 75 185 delay 200;
#X text 83 324 simulate changing wind speed;
#X obj 348 225 s \$0-to-SPIN-TCP;
#X text 348 259 generate snow from above with cubic range:;
#X text 350 332 small flakes fall according to acceleration from gravity
;
#X text 353 446 simulate wind and fluid properties:;
#X text 343 495 nice image that looks like snow:;
#X msg 344 463 enableFluidFriction 1 \, setFluidViscosity 0.1;
#X obj 42 260 metro 2000;
#X text 352 391 let snow accumulate on ground:;
#X msg 333 512 setStateSetFromFile smoke.rgb \, setLighting 0 \, setParticleAlphaRange
0.5 0.5;
#X obj 42 282 randomR -1 1;
#X msg 345 408 enableBouncer 1 \, removeAllBounceTargets \, addBounceTarget
ground \, setLifeTime 10;
#X msg 356 186 createNode ground ShapeNode \, /ground setShape 6 \,
/ground setOrientation 90 0 0 \, /ground setTranslation 0 0 -3;
#X msg 338 277 setPlacerType 1 \, setCubicXRange -200 200 \, setCubicYRange
-200 200 \, setCubicZRange 100 10;
#X msg 342 350 setParticleSizeRange 0.05 0.05 \, setShooterSpeedRange
0 0 \, setFrequencyRange 1000 10000 \, enableAccelerator 1;
#X msg 348 131 createNode grid GridNode \, createNode ps_snow ParticleSystem
;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 14 0;
#X connect 3 0 26 0;
#X connect 3 0 24 0;
#X connect 3 1 29 0;
#X connect 3 1 28 0;
#X connect 3 1 21 0;
#X connect 3 2 30 0;
#X connect 3 2 27 0;
#X connect 4 0 22 0;
#X connect 5 0 0 0;
#X connect 6 0 12 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X connect 9 0 5 0;
#X connect 10 0 11 0;
#X connect 11 0 6 0;
#X connect 12 0 7 0;
#X connect 14 0 8 0;
#X connect 21 0 5 0;
#X connect 22 0 25 0;
#X connect 24 0 5 0;
#X connect 25 0 9 0;
#X connect 26 0 5 0;
#X connect 27 0 16 0;
#X connect 28 0 5 0;
#X connect 29 0 5 0;
#X connect 30 0 16 0;
#X restore 766 72 pd EXAMPLE_snow;
#X msg 364 292 setStateSetFromFile \$1;
#X msg 658 421 setShooterRotationalSpeedRange 0 0 0 3 3 3;
#X text 737 44 Try these FULL examples:;
#X text 738 345 (degrees);
#X obj 746 152 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 571 326 536 552 EXAMPLE_ring_of_fire 0;
#X obj 42 461 s \$0-to-SPIN-TCP;
#X obj 82 410 list prepend /ps;
#X obj 52 89 bng 20 250 50 0 empty empty CreateExample 24 11 1 14 -257985
-1 -1;
#X msg 115 143 clear \, createNode grid GridNode \, createNode ps ParticleSystem
;
#X obj 52 39 inlet;
#X obj 53 120 t b b b;
#X msg 131 365 setStateSetFromFile spark03.png \, setLighting 0;
#X msg 126 194 setTranslation 0 0 10 \, setOrientation -90 0 0 \, setPlacerType
0 \, setRadialRange 2 2.2;
#X msg 137 326 enableForce 1 \, setForce 0 0 -0.3;
#X msg 136 262 setParticleSizeRange 0.3 1 \, setShooterSpeedRange 0
1 \, setFrequencyRange 500 2500 \, setShooterThetaRange 0 360 \, setLifeTime
0.5;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 1 9 0;
#X connect 5 1 7 0;
#X connect 5 1 6 0;
#X connect 5 1 8 0;
#X connect 5 2 3 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X restore 766 152 pd EXAMPLE_ring_of_fire;
#X obj 746 172 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 447 80 941 810 EXAMPLE_firefly_swarm 0;
#X obj 42 461 s \$0-to-SPIN-TCP;
#X obj 52 89 bng 20 250 50 0 empty empty CreateExample 24 11 1 14 -257985
-1 -1;
#X obj 52 39 inlet;
#X obj 53 120 t b b b;
#X msg 334 466 setPlacerType 1 \, setCubicXRange -\$1 \$1 \, setCubicYRange
-\$1 \$1 \, setCubicZRange -\$1 \$1;
#X obj 586 669 expr random(-5 \, 5) \; random(10 \, 50) \; random(-5
\, 5);
#X obj 651 720 pack 0 0 0 s;
#X obj 693 644 t b s;
#X obj 693 624 symbol;
#X msg 759 80 OutQuadMotion;
#X msg 759 100 InQuadMotion;
#X msg 759 120 InOutQuadMotion;
#X msg 759 140 OutCubicMotion;
#X msg 759 160 InCubicMotion;
#X msg 759 180 InOutCubicMotion;
#X msg 759 200 OutQuartMotion;
#X msg 759 220 InQuartMotion;
#X msg 759 240 InOutQuartMotion;
#X msg 759 260 OutBounceMotion;
#X msg 759 280 InBounceMotion;
#X msg 759 300 InOutBounceMotion;
#X msg 759 320 OutElasticMotion;
#X msg 759 340 InElasticMotion;
#X msg 759 360 InOutElasticMotion;
#X msg 759 380 OutSineMotion;
#X msg 759 400 InSineMotion;
#X msg 759 420 InOutSineMotion;
#X msg 759 440 OutBackMotion;
#X msg 759 460 InBackMotion;
#X msg 759 480 InOutBackMotion;
#X msg 759 500 OutCircMotion;
#X msg 759 520 InCircMotion;
#X msg 759 540 InOutCircMotion;
#X msg 759 560 OutExpoMotion;
#X msg 759 580 InExpoMotion;
#X msg 759 600 InOutExpoMotion;
#X obj 651 761 s \$0-to-SPIN;
#X msg 759 60 LinearMotion;
#X obj 332 711 s \$0-to-SPIN;
#X obj 529 207 metro 2000;
#X obj 529 188 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 651 740 /ps translateTo \$1 \$2 \$3 3 \$4;
#X msg 37 190 1;
#X obj 263 559 / 1000;
#X obj 115 542 expr random(-5 \, 5) \; random(5 \, 15) \; random(-5
\, 5);
#X obj 180 593 pack 0 0 0 6.5;
#X msg 138 262 setParticleSizeRange 0.2 0.2 \, setShooterSpeedRange
5 5 \, setFrequencyRange 100 500 \, setShooterThetaRange 0 360 \, setLifeTime
0.5;
#X obj 582 99 symbol;
#X msg 582 183 0;
#X obj 582 57 r \$0-from-SPIN;
#X obj 582 78 route deleteNode;
#X text 544 32 stop metro if example is cleared;
#X msg 115 143 clear \, createNode grid GridNode \, createNode ps_swarm
ParticleSystem;
#X obj 125 391 list prepend /ps_swarm;
#X obj 332 690 list prepend /ps_swarm;
#X msg 180 613 translateTo \$1 \$2 \$3 \$4 OutElasticMotion;
#X text 414 713 high-rate \, so send UDP;
#X obj 582 119 sel ps_swarm;
#X msg 144 357 setStateSetFromFile spark03.png \, setLighting 0 \,
setParticleAlphaRange 1 1;
#X obj 534 392 sin;
#X obj 534 372 line 1 100;
#X obj 534 413 * 1;
#X obj 534 317 t b f;
#X msg 534 350 0 \, -3.14159 4000;
#X obj 532 293 randomR 2 7;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 42 0;
#X connect 3 1 46 0;
#X connect 3 1 58 0;
#X connect 3 2 52 0;
#X connect 4 0 54 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 5 2 6 2;
#X connect 6 0 41 0;
#X connect 7 0 5 0;
#X connect 7 1 6 3;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 8 0;
#X connect 16 0 8 0;
#X connect 17 0 8 0;
#X connect 18 0 8 0;
#X connect 19 0 8 0;
#X connect 20 0 8 0;
#X connect 21 0 8 0;
#X connect 22 0 8 0;
#X connect 23 0 8 0;
#X connect 24 0 8 0;
#X connect 25 0 8 0;
#X connect 26 0 8 0;
#X connect 27 0 8 0;
#X connect 28 0 8 0;
#X connect 29 0 8 0;
#X connect 30 0 8 0;
#X connect 31 0 8 0;
#X connect 32 0 8 0;
#X connect 33 0 8 0;
#X connect 34 0 8 0;
#X connect 35 0 8 0;
#X connect 37 0 8 0;
#X connect 39 0 44 0;
#X connect 39 0 64 0;
#X connect 40 0 39 0;
#X connect 41 0 36 0;
#X connect 42 0 40 0;
#X connect 43 0 45 3;
#X connect 44 0 45 0;
#X connect 44 1 45 1;
#X connect 44 2 45 2;
#X connect 45 0 55 0;
#X connect 46 0 53 0;
#X connect 47 0 57 0;
#X connect 48 0 40 0;
#X connect 49 0 50 0;
#X connect 50 0 47 0;
#X connect 52 0 0 0;
#X connect 53 0 0 0;
#X connect 54 0 38 0;
#X connect 55 0 54 0;
#X connect 57 0 48 0;
#X connect 58 0 53 0;
#X connect 59 0 61 0;
#X connect 60 0 59 0;
#X connect 61 0 4 0;
#X connect 62 0 63 0;
#X connect 62 1 61 1;
#X connect 63 0 60 0;
#X connect 64 0 62 0;
#X restore 766 172 pd EXAMPLE_firefly_swarm;
#X obj 175 287 2nbx;
#X msg 175 302 setParticleAlphaRange \$1 \$2;
#X text 765 383 (degrees);
#N canvas 787 58 450 300 color_range 0;
#X obj 91 83 rgbaPicker 1 1 1 1;
#X obj 212 83 rgbaPicker 1 1 1 1;
#X obj 91 127 unpack 0 0 0 0;
#X obj 212 154 unpack 0 0 0 0;
#X obj 212 122 t b a;
#X msg 118 218 setParticleColorRange \$1 \$2 \$3 \$4 \$5 \$6;
#X text 91 63 min:;
#X text 211 63 max:;
#X obj 118 195 pack 1 1 1 1 1 1;
#X obj 118 242 outlet;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 8 0;
#X connect 2 1 8 1;
#X connect 2 2 8 2;
#X connect 3 0 8 3;
#X connect 3 1 8 4;
#X connect 3 2 8 5;
#X connect 4 0 8 0;
#X connect 4 1 3 0;
#X connect 5 0 9 0;
#X connect 8 0 5 0;
#X restore 55 384 pd color_range;
#X msg 649 362 setShooterThetaRange \$1 \$2;
#X obj 746 192 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 251 55 787 599 EXAMPLE_attractor 0;
#X obj 329 112 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X obj 329 62 inlet;
#X obj 330 143 t b b b;
#X obj 93 446 s \$0-to-SPIN;
#X obj 93 345 metro 2000;
#X obj 93 326 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 116 291 1;
#X obj 76 207 symbol;
#X msg 76 291 0;
#X obj 76 165 r \$0-from-SPIN;
#X obj 76 186 route deleteNode;
#X text 38 140 stop metro if example is cleared;
#X obj 76 227 sel ps_swarm;
#X msg 421 380 setStateSetFromFile spark03.png \, setLighting 0 \,
setParticleAlphaRange 1 1;
#X msg 392 166 clear \, createNode grid GridNode \, createNode ps_attract
ParticleSystem;
#X msg 415 285 setParticleSizeRange 0.2 0.2 \, setShooterSpeedRange
5 5 \, setFrequencyRange 100 500;
#X obj 393 425 list prepend /ps_attract;
#X msg 427 327 enableAttractor 1 \, setAttractorCenter -3 0 3 \, setAttractorMagnitude
3;
#X obj 93 425 list prepend /ps_attract;
#X obj 93 368 randomr -5 5;
#X msg 93 401 setAttractorCenter \$1 0 2;
#X obj 319 485 s \$0-to-SPIN-TCP;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 2 1 15 0;
#X connect 2 1 13 0;
#X connect 2 1 17 0;
#X connect 2 2 14 0;
#X connect 4 0 19 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 12 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X connect 12 0 8 0;
#X connect 13 0 16 0;
#X connect 14 0 21 0;
#X connect 15 0 16 0;
#X connect 16 0 21 0;
#X connect 17 0 16 0;
#X connect 18 0 3 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X restore 766 192 pd EXAMPLE_attractor;
#X msg 192 160 /ps* debug;
#X obj 746 212 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 114 223 787 599 EXAMPLE_wiggles 0;
#X obj 329 112 bng 20 250 50 0 empty empty CreateExample 24 11 1 14
-257985 -1 -1;
#X obj 329 62 inlet;
#X obj 330 143 t b b b;
#X msg 421 380 setStateSetFromFile spark03.png \, setLighting 0 \,
setParticleAlphaRange 1 1;
#X obj 319 485 s \$0-to-SPIN;
#X msg 427 326 enableOscillator 1 \, setOscillatorFrequency 20 \, setOscillatorAmplitude
5;
#X msg 415 285 setParticleSizeRange 0.2 0.2 \, setShooterSpeedRange
5 5 \, setFrequencyRange 0 100 \, setShooterThetaRange 0 90;
#X msg 393 166 clear \, createNode grid GridNode \, createNode ps_wiggles
ParticleSystem;
#X obj 393 425 list prepend /ps_wiggles;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 2 1 5 0;
#X connect 2 2 7 0;
#X connect 3 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X restore 766 212 pd EXAMPLE_wiggles;
#N canvas 19 600 450 300 EXPERIMENTAL 0;
#X obj 57 185 s to-particleSystem;
#X msg 57 147 setConnected \$1;
#X obj 57 128 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 52 33 You can "connect" particles to generate effects like
jetstreams \, but this can currently cause crashes if you toggle it
on and off many times. Also \, texture coordinates don't work well
in this case \, so it's better to test this without any stateset applied.
;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 829 664 pd EXPERIMENTAL;
#X connect 2 0 76 0;
#X connect 6 0 39 0;
#X connect 7 0 100 0;
#X connect 8 0 40 0;
#X connect 9 0 38 0;
#X connect 14 0 35 0;
#X connect 15 0 32 0;
#X connect 16 0 34 0;
#X connect 17 0 33 0;
#X connect 18 0 49 0;
#X connect 19 0 52 0;
#X connect 21 0 37 0;
#X connect 22 0 36 0;
#X connect 29 0 30 0;
#X connect 30 0 11 0;
#X connect 32 0 31 0;
#X connect 33 0 31 0;
#X connect 34 0 31 0;
#X connect 35 0 31 0;
#X connect 36 0 31 0;
#X connect 37 0 73 0;
#X connect 38 0 41 0;
#X connect 39 0 41 0;
#X connect 40 0 41 0;
#X connect 43 0 45 0;
#X connect 45 0 44 0;
#X connect 49 0 42 0;
#X connect 50 0 51 0;
#X connect 52 0 42 0;
#X connect 53 0 54 0;
#X connect 54 0 59 0;
#X connect 55 0 56 0;
#X connect 56 0 59 0;
#X connect 57 0 58 0;
#X connect 58 0 59 0;
#X connect 60 0 51 0;
#X connect 61 0 51 0;
#X connect 68 0 11 0;
#X connect 74 0 88 0;
#X connect 75 0 74 0;
#X connect 76 0 72 0;
#X connect 79 0 78 0;
#X connect 82 0 73 0;
#X connect 83 0 73 0;
#X connect 84 0 80 0;
#X connect 85 0 87 0;
#X connect 86 0 81 0;
#X connect 88 0 73 0;
#X connect 89 0 41 0;
#X connect 92 0 93 0;
#X connect 94 0 95 0;
#X connect 96 0 97 0;
#X connect 97 0 31 0;
#X connect 99 0 31 0;
#X connect 100 0 41 0;
#X connect 101 0 102 0;
#X connect 103 0 11 0;
#X connect 104 0 105 0;
#X restore 461 43 pd particle-settings;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 15 0;
#X connect 3 0 27 0;
#X connect 3 0 25 0;
#X connect 3 1 30 0;
#X connect 3 1 29 0;
#X connect 3 1 22 0;
#X connect 3 2 5 0;
#X connect 3 2 28 0;
#X connect 4 0 23 0;
#X connect 5 0 17 0;
#X connect 6 0 0 0;
#X connect 7 0 13 0;
#X connect 8 0 4 0;
#X connect 9 0 4 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 13 0 8 0;
#X connect 15 0 9 0;
#X connect 22 0 6 0;
#X connect 23 0 26 0;
#X connect 25 0 6 0;
#X connect 26 0 10 0;
#X connect 27 0 6 0;
#X connect 28 0 17 0;
#X connect 29 0 6 0;
#X connect 30 0 6 0;
#X restore 614 165 pd snow;
#X connect 5 0 21 0;
#X connect 19 0 18 0;
#X connect 20 0 17 0;
#X connect 21 1 7 0;
#X connect 21 2 23 0;
#X connect 25 0 5 0;
#X connect 29 0 30 0;
